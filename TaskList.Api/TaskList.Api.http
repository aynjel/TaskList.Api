### TaskList API - HTTP Testing File
### This file contains sample HTTP requests for testing the TaskList API
### 
### API VERSIONING: All endpoints now support v1.0
### - URL Versioning: api/v1/auth/register
### - Header Versioning: X-Api-Version: 1.0
### - Query String: api/auth/register?api-version=1.0

# Set the base URL for your API
@baseUrl = https://localhost:7191
@httpUrl = http://localhost:5045

# Variables to store tokens and IDs (will be set after successful requests)
@token = 
@userId = 

###############################################
# Authentication Endpoints (v1)
###############################################

### Register New User (URL Versioning)
POST {{baseUrl}}/api/v1/auth/register
Content-Type: application/json

{
  "name": "John Doe",
  "email": "john.doe@example.com",
  "password": "Password123"
}

### Register Another User (for testing)
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "name": "Jane Smith",
  "email": "jane.smith@example.com",
  "password": "SecurePass456"
}

### Register User - Validation Error (Short Password)
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "name": "Test User",
  "email": "test@example.com",
  "password": "123"
}

### Register User - Validation Error (Invalid Email)
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "name": "Test User",
  "email": "invalid-email",
  "password": "Password123"
}

### Register User - Duplicate Email Error
POST {{baseUrl}}/api/auth/register
Content-Type: application/json

{
  "name": "Duplicate User",
  "email": "john.doe@example.com",
  "password": "Password123"
}

###############################################
# Login
###############################################

### Login with Valid Credentials
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "john.doe@example.com",
  "password": "Password123"
}

### Login with Invalid Credentials
POST {{baseUrl}}/api/auth/login
Content-Type: application/json

{
  "email": "john.doe@example.com",
  "password": "WrongPassword"
}

###############################################
# Token Refresh
###############################################

### Refresh Access Token
POST {{baseUrl}}/api/auth/refresh

###############################################
# Logout
###############################################

### Logout
POST {{baseUrl}}/api/auth/logout
Authorization: Bearer {{token}}

###############################################
# Current User
###############################################

### Get Current User Profile
# Replace @token with your access token from login/register response
GET {{baseUrl}}/api/auth/me
Authorization: Bearer {{token}}

###############################################
# API Documentation
###############################################

### Get Scalar API Documentation
GET {{baseUrl}}/scalar/v1

GET {{httpUrl}}/
Accept: application/json

### Get OpenAPI Specification
GET {{baseUrl}}/openapi/v1.json
Accept: application/json

###############################################
# Protected Endpoints (Add JWT token to test)
###############################################

### Example Protected Request
# Replace @token with actual JWT token from registration/login response
GET {{baseUrl}}/api/tasks
Authorization: Bearer {{token}}
Accept: application/json
